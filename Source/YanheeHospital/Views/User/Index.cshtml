@model YanheeHospital.ViewModels.UserIndexViewModel

<div>
    @using(Html.BeginForm("Create", "User")){
        <table>
            <tr>
                <td><label>姓名</label></td>
                <td>@Html.EditorFor(x => x.CurrentUser.Name)</td>
                <td>@Html.ValidationMessageFor(x => x.CurrentUser.Name)</td>
            </tr>
            <tr>
                <td><label>邮箱</label></td>
                <td>@Html.EditorFor(x => x.CurrentUser.Email)</td>
                <td>@Html.ValidationMessageFor(x => x.CurrentUser.Email)</td>
            </tr>
            <tr>
                <td><label>密码</label></td>
                <td>@Html.EditorFor(x => x.CurrentUser.Password)</td>
                <td>@Html.ValidationMessageFor(x => x.CurrentUser.Password)</td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td><input type="submit" value="添加" /></td>
            </tr>
        </table>
    }
</div>
<div>
    <table width="100%">
        <tr>
            <th>序号</th>
            <th>姓名</th>
            <th>邮箱</th>
            <th>密码</th>
            <th>发送状态</th>
            <th>发送时间</th>
            <th>作答状态</th>
            <th>作答时间</th>
            <th>作答链接</th>
        </tr>
        @for (int i = 0; i < Model.Users.Count; i++)
        {
            var item = Model.Users[i];
            <tr>
                <td>@(i + 1)</td>
                <td>@item.Name</td>
                <td>@item.Email</td>
                <td>@item.Password</td>
                <td>
                    @if (item.IsInvitationEmailSent == true)
                    {
                        @Html.ActionLink("Send Again", "SendEmail", new { id = item.Id })
                    }
                    else
                    {
                        @Html.ActionLink("Send Email", "SendEmail", new { id = item.Id })
                    }
                </td>
                <td>@item.InvitationEmailSentTime</td>
                <td>
                    @if (item.IsAnswered == true)
                    {
                        @Html.ActionLink("View Answer", "ViewAnswer", new { id = item.Id })
                    }
                    else
                    {
                        @: No Answer
                    }
                </td>
                <td>@item.AnswerTime</td>
                <td>@Html.ActionLink("Quick Link", "CollectAnswer", new { id = item.Id, password = item.Password })</td>
            </tr>
        }
    </table>
</div>

